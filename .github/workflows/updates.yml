name: Mediathekview Updates
on:
  workflow_dispatch:
    inputs:
      ReleaseName:
        description: 'Release Name'
        required: false
        #default: "Ubuntu 24.04 (20250302) Image Update"
        
      ReleaseTag:
        description: 'Release Tag'
        required: false
        #default: "ubuntu24/20250302.1"

jobs:
  CreateBasicInformations:
    runs-on: ubuntu-latest

    steps:
      - name: Get current date
        id: date
        run: echo "::set-output name=date::$(date +'%Y%m%d')"
        
      - name: Test with environment variables
        run: echo $TAG_NAME - $RELEASE_NAME
        env:
          TAG_NAME: Ubuntu 24.04 (${{ steps.date.outputs.date }}) Image Update
          RELEASE_NAME: ubuntu24/${{ steps.date.outputs.date }}.1

    outputs:
      ReleaseName: Ubuntu 24.04 (${{ steps.date.outputs.date }}) Image Update
      ReleaseTag: ubuntu24/${{ steps.date.outputs.date }}.1

  CreateTest:
    needs: CreateBasicInformations
    runs-on: ubuntu-latest

    steps:
      - name: ReleaseName
        run: echo "${{ needs.CreateBasicInformations.outputs.ReleaseName }}"

      - name: Write ReleaseTag
        run: echo "${{ needs.CreateBasicInformations.outputs.ReleaseTag }}"
