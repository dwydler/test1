name: Test tag exist
on:
  workflow_dispatch:
  
jobs:
  BasicInformations:
    runs-on: ubuntu-latest
      
    steps:
      - name: Get current date
        id: date
        run: echo "::set-output name=date::$(date +'%Y%m%d')"
        
    outputs:
      ReleaseName: Ubuntu 24.04 (${{ steps.date.outputs.date }}) Image Update
      ReleaseTag: ubuntu24/${{ steps.date.outputs.date }}.1

  Test:
    runs-on: ubuntu-latest
      
    steps:      
      - uses: mukunku/tag-exists-action@v1.6.0
        id: check-tag
        with: 
          tag: ${{ needs.BasicInformations.outputs.ReleaseTag }}
          repo: 'dwydler/test1'
      
      - run: echo "Tag exists!"
        if: steps.check-tag.outputs.exists == 'true'
